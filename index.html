<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      #calculator-body {
        display: flex;
        flex-wrap: wrap;
        height: 95vh;
        background-color: black;
      }

      .top-row {
        display: flex;
        flex-basis: calc(100% - 10px);
        margin: 10px;
        justify-content: right;
      }

      #calc-display {
      }

      #display-screen {
        display: flex;
        flex-basis: calc(25% - 15px);
        align-items: center;
        justify-content: center;
        background-color: lightgrey;
      }

      .buttons {
        display: flex;
        flex-basis: calc(25% - 20px);
        justify-content: center;
        align-items: center;
        background-color: lightgrey;
        margin: 10px;
        border-radius: 50%;
      }

      .numbers {
        background-color: dimgrey;
        color: white;
      }

      .calculate {
        background-color: gold;
        color: white;
      }

      #zero {
        flex-basis: calc(50% - 20px);
        border-radius: 50%;
      }
    </style>
  </head>
  <body>
    <div id="calculator-body">
      <div id="calc-display"></div>
      <div class="top-row">
        <div id="display-screen"></div>
      </div>
      <div class="buttons" id="clear">C</div>
      <div class="buttons" id="clear-entry">CE</div>
      <div class="buttons" id="negative">+/</div>
      <div class="buttons calculate" id="divide">/</div>
      <div class="buttons numbers">7</div>
      <div class="buttons numbers">8</div>
      <div class="buttons numbers">9</div>
      <div class="buttons calculate" id="multiply">*</div>
      <div class="buttons numbers">4</div>
      <div class="buttons numbers">5</div>
      <div class="buttons numbers">6</div>
      <div class="buttons calculate" id="minus">-</div>
      <div class="buttons numbers">1</div>
      <div class="buttons numbers">2</div>
      <div class="buttons numbers">3</div>
      <div class="buttons calculate" id="plus">+</div>
      <div class="buttons numbers" id="zero">0</div>
      <div class="buttons numbers" id="decimal">.</div>
      <div class="buttons" id="equals">=</div>
    </div>
    <script>
      mainDisplay = document.getElementById("display-screen");
      mainDisplay.innerText = "0";
      let buttons = document.getElementsByClassName("buttons");
      let numberButtons = document.getElementsByClassName("numbers");
      let operatorButtons = document.getElementsByClassName("calculate");
      let calculationDisplay = document.getElementById("calc-display");
      let equalsButton = document.getElementById("equals");
      let clearButton = document.getElementById("clear");
      let clearEntryButton = document.getElementById("clear-entry");
      let decimalButton = document.getElementById("decimal");
      let negativeButton = document.getElementById("negative");
      let waitingInput = false;
      let postPlusEquals = false;
      let postMinusEquals = false;
      let postMultiplyEquals = false;
      let postDivideEquals = false;
      let postPlus = false;
      let postMinusPlus = false;
      let postMultiplyPlus = false;
      let postDividePlus = false;
      let operatorClicked = false;
      let mouseDownFired = false;

      negativeButton.addEventListener("click", function () {
        let mainDisplayNumber = parseFloat(mainDisplay.innerText, 10);
        mainDisplay.innerText = mainDisplayNumber * -1;
      });

      numberButtonPressed();
      function numberButtonPressed() {
        for (let i = 0; i < numberButtons.length; i++) {
          numberButtons[i].addEventListener("mousedown", function () {
            this.style.backgroundColor = "darkgrey";

            if (
              mainDisplay.innerText === "0" &&
              calculationDisplay.innerText === ""
            )
              mainDisplay.innerText = this.innerText;
            else if (
              mainDisplay.innerText !== "0" &&
              calculationDisplay.innerText === ""
            )
              mainDisplay.innerText += this.innerText;
            else if (mainDisplay.innerText === "0") {
              mainDisplay.innerText = this.innerText;
            } else if (
              ["+", "-", "*", "/"].includes(
                calculationDisplay.innerText.substr(-1, 1)
              )
            ) {
              if (waitingInput) {
                mainDisplay.innerText = this.innerText;
                waitingInput = false;
              } else {
                mainDisplay.innerText += this.innerText;
              }
            }
          });
        }
      }

      for (let i = 0; i < operatorButtons.length; i++) {
        operatorButtons[i].addEventListener("mousedown", function () {
          this.style.backgroundColor = "#F1E5AC";
          waitingInput = true;
          if (
            calculationDisplay.innerText === "" &&
            mainDisplay.innerText === "0"
          )
            calculationDisplay.innerText = "0 " + this.innerText;
          else if (
            calculationDisplay.innerText === "" &&
            mainDisplay.innerText !== "0"
          )
            calculationDisplay.innerText =
              mainDisplay.innerText + " " + this.innerText;
          else if (calculationDisplay.innerText.substr(-1, 1) === "+") {
            let plusX = parseFloat(calculationDisplay.innerText, 10);
            let plusY = parseFloat(mainDisplay.innerText, 10);
            let plusZ = plusX + plusY;
            let parseZ = parseFloat(plusZ);
            console.log(plusZ);
            mainDisplay.innerText = parseZ;
            calculationDisplay.innerText = plusZ + " " + this.innerText;
            postPlus;
          } else if (calculationDisplay.innerText.substr(-1, 1) === "-") {
            let minusX = parseFloat(calculationDisplay.innerText, 10);
            let minusY = parseFloat(mainDisplay.innerText, 10);
            let minusZ = minusX - minusY;
            console.log("second minus click logged");
            console.log(minusZ);
            mainDisplay.innerText = minusZ;
            calculationDisplay.innerText = minusZ + " " + this.innerText;
          } else if (calculationDisplay.innerText.substr(-1, 1) === "*") {
            let multiplyX = parseFloat(calculationDisplay.innerText, 10);
            let multiplyY = parseFloat(mainDisplay.innerText, 10);
            let multiplyZ = multiplyX * multiplyY;
            console.log("second multiply click logged");
            console.log(multiplyZ);
            mainDisplay.innerText = multiplyZ;
            calculationDisplay.innerText = multiplyZ + " " + this.innerText;
          } else if (calculationDisplay.innerText.substr(-1, 1) === "/") {
            let divideX = parseFloat(calculationDisplay.innerText, 10);
            let divideY = parseFloat(mainDisplay.innerText, 10);
            let divideZ = divideX / divideY;
            console.log("second divide click logged");
            console.log(divideZ);
            mainDisplay.innerText = divideZ;
            calculationDisplay.innerText = divideZ + " " + this.innerText;
          }

          calculationDisplay.innerText =
            mainDisplay.innerText + " " + this.innerText;
        });
      }

      equalsButton.addEventListener("click", function (equalsClick) {
        let value1 = parseFloat(calculationDisplay.innerText, 10);
        let value2 = parseFloat(mainDisplay.innerText);
        let value3 = " " + value2;
        let calcDisplayText = calculationDisplay.innerText;
        let value4 = calcDisplayText.slice(
          calcDisplayText.indexOf("+") + 1,
          calcDisplayText.lastIndexOf("=")
        );
        let value6 = calcDisplayText.slice(
          calcDisplayText.indexOf("-") + 1,
          calcDisplayText.lastIndexOf("=")
        );
        let value7 = calcDisplayText.slice(
          calcDisplayText.indexOf("*") + 1,
          calcDisplayText.lastIndexOf("=")
        );
        let value8 = calcDisplayText.slice(
          calcDisplayText.indexOf("/") + 1,
          calcDisplayText.lastIndexOf("=")
        );
        let opInCalcDisplay = calcDisplayText.slice(
          calcDisplayText.indexOf(" ") + 1,
          calcDisplayText.lastIndexOf(" ")
        );
        let displayOperator = opInCalcDisplay.charAt(0);

        value5 = parseFloat(value4);
        value9 = parseFloat(value6);
        value10 = parseFloat(value7);
        value11 = parseFloat(value8);
        if (postPlusEquals === true && displayOperator === "+")
          mainDisplay.innerText = value2 + value5;
        else if (postPlusEquals === true && displayOperator === "-")
          mainDisplay.innerText = value2 - value9;
        else if (postPlusEquals === true && displayOperator === "*")
          mainDisplay.innerText = value2 * value10;
        else if (postPlusEquals === true && displayOperator === "/")
          mainDisplay.innerText = value2 / value11;
        else if (calculationDisplay.innerText.substr(-1, 1) === "+")
          (mainDisplay.innerText = value1 + value2), (postPlusEquals = true);
        else if (postMinusEquals === true && displayOperator === "+")
          mainDisplay.innerText = value2 + value5;
        else if (postMinusEquals === true && displayOperator === "-")
          mainDisplay.innerText = value2 - value9;
        else if (postMinusEquals === true && displayOperator === "*")
          mainDisplay.innerText = value2 * value10;
        else if (postMinusEquals === true && displayOperator === "/")
          mainDisplay.innerText = value2 / value11;
        else if (calculationDisplay.innerText.substr(-1, 1) === "-")
          (mainDisplay.innerText = value1 - value2), (postMinusEquals = true);
        else if (postMultiplyEquals === true && displayOperator === "+")
          mainDisplay.innerText = value2 + value5;
        else if (postMultiplyEquals === true && displayOperator === "-")
          mainDisplay.innerText = value2 - value9;
        else if (postMultiplyEquals === true && displayOperator === "*")
          mainDisplay.innerText = value2 * value10;
        else if (postMultiplyEquals === true && displayOperator === "/")
          mainDisplay.innerText = value2 / value11;
        else if (calculationDisplay.innerText.substr(-1, 1) === "*")
          (mainDisplay.innerText = value1 * value2),
            (postMultiplyEquals = true);
        else if (postDivideEquals === true && displayOperator === "+")
          mainDisplay.innerText = value2 - value5;
        else if (postDivideEquals === true && displayOperator === "-")
          mainDisplay.innerText = value2 - value9;
        else if (postDivideEquals === true && displayOperator === "*")
          mainDisplay.innerText = value2 * value10;
        else if (postDivideEquals === true && displayOperator === "/")
          mainDisplay.innerText = value2 / value11;
        else if (calculationDisplay.innerText.substr(-1, 1) === "/")
          (mainDisplay.innerText = value1 / value2), (postDivideEquals = true);

        calculationDisplay.innerText += value3 + " =";
      });

      clearButton.addEventListener("click", function (clearClick) {
        mainDisplay.innerText = "0";
        calculationDisplay.innerText = "";
      });

      clearEntryButton.addEventListener("click", function (clearEntryClick) {
        if (calculationDisplay.innerText.includes("="))
          (mainDisplay.innerText = "0"), (calculationDisplay.innerText = "");
        else mainDisplay.innerText = "0";
      });

      //   function nextNumberPressed() {
      //     for (let i = 0; i < operatorButtons.length; i++) {
      //       operatorButtons[i].addEventListener("click", function () {
      //         calculationDisplay.innerText = mainDisplay.innerText;
      //       });
      //     }
      //     if (
      //       mainDisplay.innerText === "0" ||
      //       calculationDisplay.innerText.substr(-1, 1) === "+" ||
      //       calculationDisplay.innerText.substr(-1, 1) === "-" ||
      //       calculationDisplay.innerText.substr(-1, 1) === "*" ||
      //       calculationDisplay.innerText.substr(-1, 1) === "/"
      //     )
      //       mainDisplay.innerText = this.innerText;
      //   }

      //   function nextCalculation() {
      //     for (let i = 0; i < numberButtons.length; i++) {
      //       operatorButtons[i].addEventListener("click", function () {
      //         calculationDisplay.innerText = mainDisplay.innerText;
      //       });
      //     }
      //   }

      //   if (calculationDisplay.innerText.substr(-1, 1) === "-")
      //     mainDisplay.innerText = valueX - valueY;
      //   if (calculationDisplay.innerText.substr(-1, 1) === "x")
      //     mainDisplay.innerText = valueX * valueY;
      //   if (calculationDisplay.innerText.substr(-1, 1) === "/")
      //     mainDisplay.innerText = valueX / valueY;
      //   calculationDisplay.innerText += valueZ + " =";

      // )
      //   calculationDisplay.innerText = mainDisplay.innerText;
      // else if (calculationDisplay.innerText.substr(-1, 1) === "+")
      //   mainDisplay.innerText = value1 + value2;
      // else if (calculationDisplay.innerText.substr(-1, 1) === "-")
      //   mainDisplay.innerText = value1 - value2;
      // else if (calculationDisplay.innerText.substr(-1, 1) === "x")
      //   mainDisplay.innerText = value1 * value2;
      // else if (calculationDisplay.innerText.substr(-1, 1) === "/")
      //   mainDisplay.innerText = value1 / value2;
      // calculationDisplay.innerText += value3 + " =";
      // let value1 = parseFloat(calculationDisplay.innerText, 10);

      //   function firstOperatorPressed() {
      //     for (let i = 0; i < calculateButtons.length; i++) {
      //       calculateButtons[i].addEventListener("click", function () {
      //         return mainDisplay.innerText;
      //       });
      //     }
      //   }

      //   console.log(mainDisplay.innerText);

      //   function mathOperator() {
      //     for (let i = 0; i < calculateButtons.length; i++) {
      //       calculateButtons[i].addEventListener("click", function () {});
      //       return calculateButtons.innerText;
      //     }
      //     // calculateButtons.disabled = true;
      //   }

      //   function displaySecondEntry() {
      //     for (let i = 0; i < numberButtons.length; i++) {
      //       numberButtons[i].addEventListener("click", function () {
      //         console.log(this.innerText + " clicked.");
      //         if (mainDisplay.innerText === "0") {
      //           mainDisplay.innerText = this.innerText;
      //         } else {
      //           mainDisplay.innerText += this.innerText;
      //         }
      //       });
      //     }
      //   }

      //   function finalizeSecondEntry() {
      //     for (let i = 0; i < calculateButtons.length; i++) {
      //       calculateButtons[i].addEventListener("click", function () {});
      //       return calculateButtons.innerText;
      //     }
      //     // calculateButtons.disabled = true;
      //   }

      //   console.log(firstNumberEntry);
      //   //   function runCalculation (){
      //   //     displayInitialEntry mathOperator displaySecondEntry;
      //   //   }

      //   //   function calculation() {
      //   //     firstNumberEntry + currentNumberEntry;
      //   //     mainDisplay.innerText = calculation;
      //   //     return calculation;
      //   //   }

      //   //   calculation();

      //   //   if(mainDisplay.innerText === "0"){
      //   //               mainDisplay.innerText = this.innerText;
      //   //             }
      //   //             else
      //   //             {mainDisplay.innerText += this.innerText;
      //   //           });
      //   //         }

      //   // document.body.addeventlistener(keypress), e =>
      //   // if e.key === "5"(
      //   // console.log(e.key)""
    </script>
  </body>
</html>
